<!doctype html><meta charset='utf-8'><title>Sign up — v2.1.1</title>
<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/water.css@2/out/water.css'>
<h1>Start free — no credit card</h1>
<form onsubmit="return go(event)">
  <label>Business <input id="business" required></label>
  <label>Name <input id="name" required></label>
  <label>Email <input id="email" type="email" required></label>
  <label>Username <input id="username" required></label>
  <label>Password <input id="password" type="password" required></label>
  <button>Create Free Account</button>
</form>
<p id='thanks' style='display:none;color:green'>Thanks! Opening the app…</p>
<script>
async function go(e){
  e.preventDefault();
  const business=document.getElementById('business').value.trim();
  const name=document.getElementById('name').value.trim();
  const email=document.getElementById('email').value.trim();
  const username=document.getElementById('username').value.trim();
  const password=document.getElementById('password').value.trim();
  let s={};try{s=JSON.parse(localStorage.getItem('abc_state')||'{}')}catch(e){s={}};
  s.user={username}; s.settings=s.settings||{}; s.settings.businessName=business; s.settings.ownerEmail=email; s.settings.plan='free';
  localStorage.setItem('abc_state', JSON.stringify(s));
  document.getElementById('thanks').style.display='block';
  setTimeout(()=>{ location.href='app/app.html'; }, 700);
  return false;
}
</script>

<script>
(async()=>{
  try{
    if ('serviceWorker' in navigator) {
      const regs = await navigator.serviceWorker.getRegistrations();
      for (const r of regs) { try{ await r.unregister(); }catch(e){} }
      const keys = await caches.keys();
      for (const k of keys) { if (k !== 'abc-center-v2-1-1') { try{ await caches.delete(k);}catch(e){} } }
    }
    try{
      const toRemove = ['abc_tour_done','abc_trial_banner','abc_proTrial','abc_proTrialUntil'];
      toRemove.forEach(k=>localStorage.removeItem(k));
    }catch(e){}
  }catch(e){}
})();
</script>

